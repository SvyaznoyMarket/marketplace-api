{"name":"Enter Marketplace API","tagline":"API specification of Enter Marketplace engine.","body":"# Интеграция с Enter Marketplace\r\n\r\nОсновные интеграции:\r\n- Товары (+ харакетиристики) — из XML-выгрузки (на текущий момент товары в заводятся редакцией Enter вручную, детали обсуждаются с менеджером)\r\n- Цены — из XML-выгрузки\r\n- Остатки — отдельный сервис для обновления остатков\r\n- Варианты доставки — из XML-выгрузки\r\n- Передача созданных заказов обратно партнёру — API по выгрузке заказов за определённое время\r\n- Обновление статуса заказа партнёром — push статуса заказа на нас от партнёра\r\n\r\nДля обновления только остатков предусмотрен отдельный сервис, чтобы данные по наличию товара можно было обновлять часто.\r\n\r\nСозданные на сайте и через КЦ Enter заказы будут передаваться партнёру в виде выгрузки за определённый период (метод `getOrders`).\r\n\r\n# Регистрация партнёра в Enter Marketplace\r\n\r\nДля начала работы партнёр должен быть зарегистрирован в Enter Marketplace.\r\nДля регистрации партнёра нужна следующая информация:\r\nНазвание партнёра (будет отображаться на сайте)\r\nЛоготип (картинка, будет отображать на странице оформления заказа)\r\nURL, по которому будет доступна XML-выгрузка товаров (опционально)\r\nXML-выгрузка товаров\r\nОписание формата (DTD): shops.dtd.\r\nПример выгрузки:\r\n``` xml\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!DOCTYPE yml_catalog SYSTEM \"shops.dtd\">\r\n<yml_catalog date=\"2014-06-30 18:31\">\r\n  <shop>\r\n    <name>Enter.ru</name>\r\n    <company>Enter.ru</company>\r\n    <url>http://www.enter.ru</url>\r\n    <email>enter@enter.ru</email>\r\n    <currencies>\r\n      <currency id=\"RUR\" rate=\"1\"/>\r\n    </currencies>\r\n    <offers>\r\n      <offer id=\"1142\" type=\"vendor.model\" available=\"false\">\r\n        <url>http://www.enter.ru/reg/78637/product/household/odeyalo-140-h-205-sm-s-ekstraktom-aloe-vera-dargez-neapol-2040502000168</url>\r\n        <price>1890.00</price>\r\n        <currencyId>RUR</currencyId>\r\n        <categoryId>3690</categoryId>\r\n        <picture>http://fs01.enter.ru/1/1/500/09/2639.jpg</picture>\r\n        <store>false</store>\r\n        <pickup>false</pickup>\r\n        <delivery>true</delivery>\r\n        <local_delivery_cost>590</local_delivery_cost>\r\n        <typePrefix>Одеяло 140 х 205 см с экстрактом алоэ вера</typePrefix>\r\n        <vendor>Dargez</vendor>\r\n        <model>\"Неаполь\"</model>\r\n        <description>Одеяло «Неаполь» от компании Dargez – это сочетание, казалось бы, несочетаемых вещей: с одной стороны, оно обладает релаксирующим эффектом, помогает расслабиться вечером и быстро уснуть, а с другой – оно наполняет ваш организм энергией и силой, и ваше утро начнется не с ненависти к будильнику, а со сладких потягиваний. Это все возможно благодаря специальной пропитке материала – алоэ вера, которая благодаря своим целебным свойствам заботится о красоте и здоровье вашей кожи во время сна. К тому же о...</description>\r\n        <manufacturer_warranty>true</manufacturer_warranty>\r\n        <barcode>2040502000168</barcode>\r\n        <amount>10</amount>\r\n      </offer>\r\n    </offers>\r\n  </shop>\r\n</yml_catalog>\r\n```\r\n\r\nДетали обработки выгрузки в Enter Marketplace:\r\nПоддерживаемые типы товаров (offer): vendor.model\r\nПоддерживаемые валюты: RUB\r\nПоддержка нескольких картинок для одного товарного предложения (используется несколько элементов picture для одного товарного предложения)\r\n\r\n# API Enter Marketplace\r\n\r\nAPI работает через протокол SOAP 1.1, [WSDL](https://api.enter.ru/marketplace/integration/soap?wsdl) с описанием методов. Обмен данными осуществляется через защищённое соединение (HTTPS).\r\n\r\n## Загрузка товаров\r\n\r\nЗагрузка товаров в формате XML-выгрузки происходит через метод updateOffers.\r\nМетод принимает единственный параметр — строку с XML-выгрузкой.\r\n\r\n## Получение заказов\r\n\r\nПартнёр получает заказы, используя метод getOrders. Метод отдаёт заказы начиная с указанной даты и времени.\r\n\r\n## Обновление статуса заказа партнёром\r\n\r\nДля обновления заказа партнёр может делать запросы к API Enter Marketplace.\r\nМетод — updateOrderStatus.\r\n\r\nОписание параметров:\r\n\r\n| Элемент           | Описание                                                        |\r\n|-------------------|-----------------------------------------------------------------|\r\n| number            | Номер заказа в Enter                                            |\r\n| date              | Дата установки статуса (ISO 8601, 2014-06-30T20:04:31)          |\r\n| deliveryDate      | Дата (планируемой) доставки (ISO 8601, 2014-06-30)              |\r\n| statusCode        | Код статуса в системе Enter                                     |\r\n| statusDescription | Текстовое описание статуса заказа в свободное форме от партнёра |\r\n\r\nВарианты кодов:\r\n- opened — Новый (статус по умолчанию)\r\n- canceled — Отменён партнёром\r\n- rejected — Не принят партнёром\r\n- confirmed — Принят партнёром\r\n- agreed — Согласован КЦ Enter с клиентом\r\n- delivery — Передан в доставку\r\n- received — Получен клиентом\r\n- refused — Отказ клиента\r\n\r\n## Обновление остатков\r\n\r\nДля оперативного обновления остатков партнёр может делать запросы к API Enter Marketplace.\r\nМетод — updateStock.\r\n\r\nОписание параметров:\r\n\r\n| Элемент  | Описание                         |\r\n|----------|----------------------------------|\r\n| offer    | ID товара из XML-выгрузки (выше) |\r\n| geoCode  | Код КЛАДР города                 |\r\n| quantity | Доступное количество             |","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}